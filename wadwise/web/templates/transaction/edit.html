{% extends 'base.html' %}
{% from 'widgets.html' import select_group %}

{% block content %}
<style>
.menu {
    margin-left: -0.6rem;
}

.menu-link {
    cursor: pointer;
    display: inline-block;
    padding: 0.3rem 0.6rem;
    color: #333;
    text-decoration: none;

    &:visited {
        color: #333;
    }

    &[selected] {
        background: #ddd;
    }
}
</style>

<template id="accountSelector">
    {{ select_group('some', '_', env.account_groups) }}
</template>

<form data-preact="AccountEdit" method="POST" class="pure-form"></form>

<script type="module">
    import {initPreactData} from '/static/js/transaction_edit.js'
    initPreactData({AccountEdit: {
        form: {{ form | tojson }},
        accountTitle: {{ env.account_title(form.dest) | tojson }},
        curList: {{ cur_list | tojson }},
        dateStr: {{ form.date.strftime('%Y-%m-%d') | tojson }},
        timeStr: {{ form.date.strftime('%H:%M:%S') | tojson }},
        split: {{ split | tojson }},
        defaultAccount: {{ env.account_groups[0][1][0][0] | tojson }},
        urls: {
            transaction_edit: {{ url_for('transaction_edit') | tojson }},
        }
    }})
</script>

{% endblock %}
